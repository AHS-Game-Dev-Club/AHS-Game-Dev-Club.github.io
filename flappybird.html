<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
    <!-- meta character set -->
    <meta charset="utf-8">
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>AHS Game Development Club</title>
    <!-- Meta Description -->
    <meta name="description" content="Blue One Page Creative HTML5 Template">
    <meta name="keywords"
        content="one page, single page, onepage, responsive, parallax, creative, business, html5, css3, css3 animation">
    <meta name="author" content="Muhammad Morshed">

    <!-- Mobile Specific Meta -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
		================================================== -->

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>

    <!-- Fontawesome Icon font -->
    <!-- <link rel="stylesheet" href="css/font-awesome.min.css"> -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <!-- add prism.css-->
    <link rel="stylesheet" href="css/prism.css">


    <!-- bootstrap.min -->
    <link rel="stylesheet" href="css/jquery.fancybox.css">
    <!-- bootstrap.min -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- bootstrap.min -->
    <link rel="stylesheet" href="css/owl.carousel.css">
    <!-- bootstrap.min -->
    <link rel="stylesheet" href="css/slit-slider.css">
    <!-- bootstrap.min -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/custom.css">

    <!-- Modernizer Script for old Browsers -->
    <script src="js/modernizr-2.6.2.min.js"></script>

    <script src="js/prism.js"></script>

</head>

<body id="body">

    <!-- preloader -->
    <div id="preloader">
        <div class="loder-box">
            <div class="battery"></div>
        </div>
    </div>
    <!-- end preloader -->
    <!--
        Fixed Navigation
        ==================================== -->
    <header id="navigation" class="navbar-inverse navbar-fixed-top animated-header">
        <div class="container">
            <div class="navbar-header">
                <!-- responsive nav button -->
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- /responsive nav button -->
                <!-- logo -->
                <h1 class="navbar-brand">
                    <a href="#body">AHS Game Dev Club</a>
                </h1>
                <!-- /logo -->
            </div>

            <!-- main nav -->
            <nav class="collapse navbar-collapse navbar-right" role="navigation">
                <ul id="" class="nav navbar-nav">
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./lessons.html#csharp">C#</a></li>
                    <li><a href="#unity-editor">Let's Make Flappy Bird</a></li>
                </ul>
            </nav>
            <!-- /main nav -->
        </div>
    </header>
    <!--
        End Fixed Navigation
        ==================================== -->

    <main class="site-content" role="main">

        <section>
            <div class="container">
                <div class="row">
                    <div class="sec-title text-center">
                        <h2 class="wow animated bounceInLeft">Our Repository</h2>
                    </div>
                    <p>Here's <em><a href="https://github.com/iamcheeze/AHS-GAMEDEV-FLAPPY-BIRD" target="_blank">our
                                repository</a></em>. Feel
                        free to clone it and open it in Unity!</p>
                </div>
            </div>
        </section>

        <section id="unity-editor">
            <div class="container">
                <div class="row">
                    <div class="sec-title text-center">
                        <h2 class="wow animated bounceInLeft">Unity Editor</h2>

                    </div>

                    <div class="row">
                        <h4>Scene Hierarchy</h4>
                        <p>Here's the scene hierarchy! The Death Barriers are the top and bottom of scene, when the
                            flappy bird player goes out of bounds. Make sure to add the "Death" tag to the Box Collider
                            2D
                            component.</p>
                        <p>There are 3 Pipes which have 3 child elements, the top and bottom one, also with the "Death"
                            tag, and the ScoreCollider. Next, the Cycle Completion Collider detects if the pipes have
                            passed the screen on
                            the left and
                            respawn to their original point. Finally, add a canvas element on which add a Text (TMP)
                            element.</p>
                        <img src="img/flappy/flappy_scene_hierarchy.png">
                        <img src="img/flappy/tmp_hierarchy.png">
                        <h4>Player</h4>
                        <p>Here is the Inspector panel for the Player. Make sure to change the Sprite Renderer Sprite
                            with a different texture! Also make sure to enable Is Trigger in the Box Collider 2D
                            component. Also, add a FlappyController Script (C#). We will code it later, but make not of
                            these variables we can change (Force, Up Rotation, Down Rotation).</p>
                        <img src="img/flappy/bird1.png">
                        <img src="img/flappy/bird2.png">
                        <h4>Pipes</h4>
                        <p>For each pipe, add a Rigidbody2D component and Box Collider 2D component. Make sure to make
                            the Box Collider 2D a trigger! In the top and bottom pipe child game objects, add a "Death"
                            tag to them!</p>
                        <p>Make sure to add a ScoreCollider element to each pipe, and connect the ScoreCollider script
                            to it.</p>
                        <img src="img/flappy/pipe1.png">
                        <img src="img/flappy/pipe2.png">
                        <h4>ScoreCollider Preview</h4>
                        <img src="img/flappy/score_collider.png">
                        <h4>Cycle Completion Collider</h4>
                        <p>Add a "Completed" tag to the Cycle Completion Collider, and a Box Collider 2D. Position them
                            as in the image!</p>
                        <img src="img/flappy/ccc.png">
                        <h4>Text Mesh Pro and UI</h4>
                        <p>Select a Text Mesh Pro element as below!</p>
                        <img src="img/flappy/tmp.png">
                        <p>Here is the Canvas Inspector! Make sure to add a ScoreTracker.cs script attached to the Text
                            Mesh Pro
                            element!</p>
                        <img src="img/flappy/canvas.png">
                    </div>
                </div>
            </div>
        </section>

        <section id="code-walkthrough">
            <div class="container">
                <div class="row">
                    <div class="sec-title text-center">
                        <h2 class="wow animated bounceInLeft">Code Walkthrough</h2>

                    </div>

                    <div class="row">
                        <h2>FlappyController.cs</h2>
                        <p>We create a class FlappyController that extends from the Unity MonoBehaviour class. This
                            allows us
                            to connect the script to our Flappy Bird character sprite and its other components.</p>


                        <h4>Program Structure</h4>
                        <p>The Start() method is called on the first frame when the character is created.</p>
                        <p>The Update() method is called every frame to perform various actions from calculating points,
                            moving the character, getting input, etc.</p>
                        <p>
                            We declare the following fields:
                        <pre><code class="language-csharp">Rigidbody2D rb;
public float force;

public Vector3 upRotation = new Vector3(0, 0, 22.171f);
public Vector3 downRotation = new Vector3(0, 0, -35);</code></pre>
                        </p>
                        <p>Rigidbody2D, another component of the flappy bird, is obtained from by using
                        <pre><code class="language-csharp">void Start()
{
    rb = gameObject.GetComponent&lt;Rigidbody2D&gt;();
}</code></pre>
                        in the Start() method. The Rigidbody2D component controls the bird movement and physics. We want
                        to change this component's velocity and rotation depending on the bird's state and user input.
                        </p>
                        <p><em>IMPORTANT: Note the use of public fields. We can set these fields not through code,
                                but in the
                                Unity UI when editing the script. These essentially act as parameters to our
                                script.</em></p>


                        <h4>User Input and Update()</h4>
                        <p>To get input, we use the Input class. For example, if we want to check if the space bar
                            <em>every frame</em> was
                            pressed, we would type:
                        <pre><code class="language-csharp">if (Input.GetKeyDown(KeyCode.Space))
{
    // do something here
}</code></pre>
                        </p>

                        <p>Or alternatively, if we wanted to check if any key was pressed, we could write:
                        <pre><code class="language-csharp">if (Input.anyKeyDown)
{
    // do something here
}</code></pre>
                        </p>
                        <p>If the user presses on a key, we want our bird to jump. We can do this by setting the
                            velocity to face in the up direction. Conveniently Vector2.up already defines the up
                            direction... So we can multiply rb.velocity by a certain force that we defined in earlier.
                            We also want to change the bird's rotation. We will use Quaternions, which represent a 3D
                            rotation, to do this, as seen below.
                        <pre><code class="language-csharp">if (Input.anyKeyDown)
{
    rb.velocity = Vector2.up * force;
    transform.rotation = Quaternion.Euler(upRotation);
}</code></pre>
                        </p>
                        <p>Next, we want the bird's rotation to also change every frame, so we use another math
                            function: smooth interpolation (You do not need to worry about the implementation details)!
                        </p>
                        <pre><code class="language-csharp">void Update()
{
    if (Input.anyKeyDown)
    {
        rb.velocity = Vector2.up * force;
        transform.rotation = Quaternion.Euler(upRotation);
    }
                                    
    transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.Euler(downRotation), Time.deltaTime * 2);
}</code></pre>
                        <p>Another key takeaway from this piece code is Time.deltaTime, which gives you the elapsed time
                            since the last frame. This is useful, to make sure the fast computers do not have a speed
                            advantage over others! Here's an excellent <a
                                href="https://www.youtube.com/watch?v=8pYq15Lh0x4" target="_blank">video</a> explaining
                            it.</p>
                        <p>Again do not worry about understanding Quaternions. Just know that they represent a 3D
                            rotation. This is a very complicated university math
                            topic!</p>

                    </div>
                    <div class="row">
                        <p>Here's the final code in case you need it!</p>
                        <h4>FlappyController.cs</h4>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class FlappyController : MonoBehaviour
{
    Rigidbody2D rb;
    public float force;
                            
    public Vector3 upRotation = new Vector3(0, 0, 22.171f);
    public Vector3 downRotation = new Vector3(0, 0, -35);
                            
    void Start()
    {
        rb = gameObject.GetComponent&lt;Rigidbody2D&gt;();
    }
                            
    void Update()
    {
        if (Input.anyKeyDown)
        {
            rb.velocity = Vector2.up * force;
            transform.rotation = Quaternion.Euler(upRotation);
        }
        
        transform.rotation = Quaternion.Slerp(transform.rotation, Quaternion.Euler(downRotation), Time.deltaTime * 2);
    }
}</code></pre>
                    </div>
                    <div>
                        <h2>PlayerHealth.cs</h2>
                        <h4>Collisions With the "Death" and "Score" Tags</h4>
                        <p>Using the
                            Unity UI, we added BoxCollider2D components to all the pipes, and labeled them as as
                            triggers
                            with the "Death" tag. So when the bird detects a collision, all we need to do is check if
                            the tag is "Death"! When the trigger first "enters" or detects a collision, it calls
                        <pre><code class="language-csharp">private void OnTriggerEnter2D(Collider2D other) { /* code */ }</code></pre>
                        If the other Collider2D has the "Death" tag, we can reload the game by reloading the scene as
                        shown below. If the bird detects the "Score" tag, we can also add a point to a global score
                        attribute.
                        </p>
                        <pre><code class="language-csharp">private void OnTriggerEnter2D(Collider2D other)
{
    if (other.CompareTag("Death"))
    {
        SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);
    }
    if (other.CompareTag("Score"))
    {
        score += 1;
    }
}</code></pre>
                        <p>Make sure to add
                        <pre><code class="language-csharp">using UnityEngine.SceneManagement;</code></pre> in the
                        beginning of the file.</p>
                    </div>

                    <div class="row">
                        <p>Here's the final code in case you need it!</p>
                        <h4>PlayerHealth.cs</h4>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;

public class PlayyerHealth : MonoBehaviour
{
    public int score;
                            
    private void OnTriggerEnter2D(Collider2D other)
    {
        if (other.CompareTag("Death"))
        {
            SceneManager.LoadScene(SceneManager.GetActiveScene().buildIndex);
        }
        if (other.CompareTag("Score"))
        {
            score += 1;
        }
    }
}</code></pre>
                    </div>

                    <div class="row">
                        <h2>PipeLogic.cs</h2>
                        <h4>Instance Fields</h4>
                        <p>First, we create 3 fields, a Rigidbody2D rb, and 2 public fields randPosY and speed. randPosY
                            gives a range for the minimum and maximum of randomly generated pipe height. Speed controls
                            the pipe speed going left.</p>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
                                                        
public class PipeLogic : MonoBehaviour
{
    Rigidbody2D rb;
    public float randPosY = 2.17f;
    public float speed;</code></pre>
                        <h4>Start and Update</h4>
                        <p>In the Start() method, we obtain the rb component, and set the new position changing the y
                            value only. Next in the update, we ensure that the Rigidbody2D component's velocity is
                            always left at the speed specified by our public "speed" field. This makes our pipe move
                            left!</p>
                        <pre><code class="language-csharp">void Start()
{
    rb = this.gameObject.GetComponent<Rigidbody2D>();
    transform.position = new Vector3(transform.position.x, Random.Range(randPosY, -randPosY));
}
                                                    
void Update()
{
    rb.velocity = Vector2.left * speed;
}</code></pre>
                        <h4>"Destroying" the Pipe</h4>
                        <p>When the pipe reaches the end of the screen, we could destroy it and create a new pipe.
                            However, this could be risky because controlling large amounts of objects can cause memory
                            leaks or be very inefficient. So a solution, is to <em>reuse</em> the pipe.</p>
                        <p>All we do is detect if it passes the screen or hits the "Cycle Completion Collider" by
                            checking if it hits the "Completed" tag!</p>
                        <p>If this happens, we can reset it to an arbitray value, in our case, 9.28 seems to work well,
                            but feel free to play around with the values!</p>
                        <pre><code class="language-csharp">private void OnTriggerEnter2D(Collider2D other)
{
    if (other.CompareTag("Completed"))
    {
        transform.position = new Vector3(9.28f, Random.Range(randPosY, -randPosY));
    }
}</code></pre>
                    </div>

                    <div class="row">
                        <p>Here's the final code in case you need it!</p>
                        <h4>PipeLogic.cs</h4>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
                            
public class PipeLogic : MonoBehaviour
{
    Rigidbody2D rb;
    public float randPosY = 2.17f;
    public float speed;
                            
    void Start()
    {
        rb = this.gameObject.GetComponent&lt;Rigidbody2D&gt;();
        transform.position = new Vector3(transform.position.x, Random.Range(randPosY, -randPosY));
    }
                            
    void Update()
    {
        rb.velocity = Vector2.left * speed;
    }
                            
    private void OnTriggerEnter2D(Collider2D other)
    {
        if (other.CompareTag("Completed"))
        {
            transform.position = new Vector3(9.28f, Random.Range(randPosY, -randPosY));
        }
    }
}</code></pre>
                    </div>
                    <div class="row">
                        <h2>ScoreTracker.cs</h2>
                        <h4>Instance Fields</h4>
                        <p>First, we create 2 fields: a PlayerHealth pH and TextMeshProUGUI scoreText.</p>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;
                                                        
public class ScoreTracker : MonoBehaviour
{
    PlayerHealth pH;
    TextMeshProUGUI scoreText;
    </code></pre>
                        <h4>Start and Update</h4>
                        <p>In the Start() method, we set pH as the PlayerHealth script using
                            FindObjectOfType&lt;PlayerHealth&gt;() and scoreText by calling the
                            GetComponent&lt;TextMeshProUGUI&gt;() method. To update the score, we just set the score
                            each frame in the Update() method.
                        </p>
                        <pre><code class="language-csharp">private void Start()
{
    pH = FindObjectOfType&lt;PlayerHealth&gt;();
    scoreText = GetComponent&lt;TextMeshProUGUI&gt;();
}
                                                    
void Update()
{
    scoreText.text = pH.score.ToString("0");
}</code></pre>

                    </div>

                    <div class="row">
                        <p>Here's the final code in case you need it!</p>
                        <h4>ScoreTracker.cs</h4>
                        <pre><code class="language-csharp">using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using TMPro;
                                                        
public class ScoreTracker : MonoBehaviour
{
    PlayerHealth pH;
    TextMeshProUGUI scoreText;
    
    private void Start()
    {
        pH = FindObjectOfType&lt;PlayerHealth&gt;();
        scoreText = GetComponent&lt;TextMeshProUGUI&gt;();
    }

    void Update()
    {
        scoreText.text = pH.score.ToString("0");
    }
}</code></pre>
                    </div>
                </div>
        </section>

    </main>
    <!-- end team section -->

    <footer id="footer">
        <div class="container">
            <div class="row text-center">
                <div class="footer-content">

                    <div class="footer-social">
                        <ul>
                            <!-- <li><a href="#"><i class="fa fa-facebook fa-3x"></i></a></li> -->
                            <li><a href="https://www.instagram.com/ahsgamedevclub/" target="_blank"><i
                                        class="fab fa-instagram fa-3x"></i></a></li>
                            <li><a href="https://github.com/AHS-Game-Dev-Club/" target="_blank"><i
                                        class="fab fa-github fa-3x"></i></a></li>
                            <li><a href="https://discord.gg/kD2FZ74VPf" target="_blank"><i
                                        class="fab fa-discord fa-3x"></i></a></li>
                            <li><a href="https://www.youtube.com/@ahsgamedevclub" target="_blank"><i
                                        class="fab fa-youtube fa-3x"></i></a></li>

                        </ul>
                    </div>

                    <p>Copyright &copy; 2023 AHS Game Dev Club. All rights reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Essential jQuery Plugins
		================================================== -->
    <!-- Main jQuery -->
    <script src="js/jquery-1.11.1.min.js"></script>
    <!-- Twitter Bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- Single Page Nav -->
    <script src="js/jquery.singlePageNav.min.js"></script>
    <!-- jquery.fancybox.pack -->
    <script src="js/jquery.fancybox.pack.js"></script>
    <!-- Google Map API -->
    <script src="http://maps.google.com/maps/api/js?sensor=false"></script>
    <!-- Owl Carousel -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- jquery easing -->
    <script src="js/jquery.easing.min.js"></script>
    <!-- Fullscreen slider -->
    <script src="js/jquery.slitslider.js"></script>
    <script src="js/jquery.ba-cond.min.js"></script>
    <!-- onscroll animation -->
    <script src="js/wow.min.js"></script>
    <!-- Custom Functions -->
    <script src="js/main.js"></script>
</body>

</html>
